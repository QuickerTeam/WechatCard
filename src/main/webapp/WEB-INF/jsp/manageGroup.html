							<div class="remind">
						 	    <div class="input-group">
		        					<span class="input-group-addon">券名</span>
		         					<input type="text" class="form-control onlyForm cardTitle" placeholder="不超过9个字"><i class="icon"></i>
		     					</div>

	     					 </div>

	     					 <div class="remind">
		     					 <div class="input-group">
		        					<span class="input-group-addon">卡券总数</span>
		         					<input type="text" class="form-control onlyForm" id="cardNumber" placeholder="上限100000000"><i class="icon"></i>
		     					 </div>
	     					 </div>
	     					 <div class="remind">
		     					  <div class="input-group">
		        					<span class="input-group-addon">卡券使用提醒</span>
		         					<input type="text" class="form-control onlyForm" id="useView" placeholder="不超过16个字"><i class="icon"></i>
		     					 </div>
	     					 </div>
	     					 	 <div class="remind">
		     					 <div class="input-group">
		        					<span class="input-group-addon">客服电话</span>
		         					<input type="text" class="form-control onlyForm" id="serverTel" placeholder="选题"><i class="notMust icon">*选填</i>
		     					 </div>
	     					 </div>
	     					 <div class="remind">
		     					 <div class="input-group">
		        					<span class="input-group-addon">具体优惠信息</span>
		         					<input type="text" class="form-control onlyForm" id="favourView" placeholder="不超过18个字"><i class="icon"></i>
		     					 </div>
	     					 </div>
	     					 <div class="remind">
		     					 <div class="input-group">
		        					<span class="input-group-addon">个人领券限额</span>
		         					<input type="text" class="form-control onlyForm" id="numberPlace" placeholder="50"><i class="notMust icon">*选填</i>
		     					 </div>
	     					 </div>
	     					 <div class="chooseTimeType">
	     					 	<span>选择时间模式</span>
	     					 	<button class="btn btn-info" type="button" title="点击切换" id="changeType">切换</button>
	     					 </div>
	     					 <div class="showType">
	     					 	<ul class="typeView">
	     					 		<li class="typeOne" >
				     					  <div class="inputviews">
					     					 <div class="input-group">
					        					<span class="input-group-addon">卡券使用开始时间</span>
					         					<input type="text" class="form-control formTime" id="starTimeY"  placeholder="number">
					         					<span class="input-group-addon">年</span>
					         					<input type="text" class="form-control formTime" id="starTimeM"  placeholder="number">
					         					<span class="input-group-addon">月</span>
					         					<input type="text" class="form-control formTime" id="starTimeD"  placeholder="number">
					         					<span class="input-group-addon">日</span>
					     					 </div>
				     					 </div>
				     					 <div class="inputviews">
					     					 <div class="input-group">
					        					<span class="input-group-addon">卡券使用结束时间</span>
					         					<input type="text" class="form-control formTime" id="endTimeY" placeholder="number">
					         					<span class="input-group-addon">年</span>
					         					<input type="text" class="form-control formTime" id="endTimeM" placeholder="number">
					         					<span class="input-group-addon">月</span>
					         					<input type="text" class="form-control formTime" id="endTimeD" placeholder="number">
					         					<span class="input-group-addon">日</span>
					     					 </div>
				     					 </div>
				     				</li>
				     				<li class="typeTwo" 卡券有效期为持续时长>
				     					 <div class="inputviews">
					     					 <div class="input-group" id="rangeTime">
					        					<span class="input-group-addon">卡券使用持续时长</span>
					         					<input type="text" class="form-control" id="timeRange" placeholder="number">
					         					<span class="input-group-addon">天</span>
					     					 </div>
				     					 </div>
				     				</li>
				     			</ul>
				     		</div>
	     					 <div class="stag">
								<span class="upView">上传商家图标</span>
								<div class="addimg">
									<i class="icon-plus-sign"></i>
								</div>
								<i class="icon"></i>
								<input type="file" name="" id="upimg"/>
							</div>	





							<div class="remind">
								<span class="upView">选择卡片背景颜色</span>
								<div id="chooseColor"></div>
								<table class="colorTable">
									<tr>
										<td class="colorView Color010" title="#63b359"></td>
										<td class="colorView Color020" title="#2c9f67"></td>
										<td class="colorView Color030" title="#509fc9"></td>
										<td class="colorView Color040" title="#5885cf"></td>
										<td class="colorView Color050" title="#9062c0"></td>
										<td class="colorView Color060" title="#d09a45"></td>
										<td class="colorView Color070" title="#e4b138"></td>
									</tr>
									<tr>
										<td class="colorView Color080" title="#ee903c"></td>
										<td class="colorView Color081" title="#f08500"></td>
										<td class="colorView Color082" title="#a9d92d"></td>
										<td class="colorView Color090" title="#dd6549"></td>
										<td class="colorView Color100" title="#cc463d"></td>
										<td class="colorView Color101" title="#cf3e36"></td>
										<td class="colorView Color102" title="#5E6671s"></td>
									</tr>
								</table>
							</div>

							<div class="form-group">
    							<label for="name">卡券使用说明</label>
    							<p>
    								<textarea class="form-control" rows="3" id="groupDescription"></textarea>
    								<i class="icon"></i>
    							</p>
  							</div>
							<div class="form-group">
    							<label for="name">团购详情</label>
    							<p>
    								<textarea class="form-control" rows="3" id="groupDetail"></textarea>
    								<i class="icon"></i>
    							</p>
  							</div>	
	<script type="text/javascript">
				
			  var cardType = "groupBuying";
			  
			  var checkOk = false;  //为treu代表表单检验通过
			  var isChange = 0;    // 表示采用的时间类型，0表示使用时间区间，1表示采用时间长短

			  $("input").attr('disabled',""); //禁用表单填写
			  $("textarea").attr('disabled',"");// 禁用文字输入



				$("#upimg").val(null);     // 初始化上传图片的value
				
				
				function addimg(){
					                //上传图片同时预览上传的图片
			    // Get a reference to the fileList
			    var files = !!this.files ? this.files : [];
			    var nextElement = $(".addimg").nextAll("i");
			 
			    // If no files were selected, or no FileReader support, return
			    if (!files.length || !window.FileReader) return;
			 
			    // Only proceed if the selected file is an image
			    if (/^image/.test( files[0].type)){                     //验证图片是否合格
			 
			        // Create a new instance of the FileReader
			        var reader = new FileReader();
			 
			        // Read the local file as  DataURL
			        reader.readAsDataURL(files[0]);
			 
			        // When loaded, set image data as background of div
			        checkOk = true;
			        
			  		reader.onloadend = function(){
			  		$(".addimg").empty();
					$("<img src='"+this.result+"' class = 'imgview'>").appendTo($(".addimg"));  
			        };
			        if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			            };
			        if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			            };
			        nextElement.addClass('icon-ok').attr({title: ""});
			    }else{
			    	  if (nextElement.hasClass('icon-ok')) {
			              nextElement.removeClass('icon-ok');
			          };
			        if (nextElement.hasClass('icon-remove')) {
			              nextElement.removeClass('icon-remove');
			          };
			          nextElement.addClass('icon-remove').attr({title: "请选择图片上传"});
			          checkOk = true;
			    }
			 
			
				}



			

			  $(".addimg").click(function() {               
			  	$("#upimg").trigger("click");
			  });

			  function chooseColor(){         //显示选择颜色的色版
			  	
			  	$(".colorTable").css({display:"inline-block"});
			  }

			   

			  function colorView(){
				
			  	var color = $(this).attr("title");
			  	$("#chooseColor").css({
			  		backgroundColor: color
			  	});
			  	$(".colorTable").hide("400");
				}
				// $("#upimg").on("change", addimg());
				//$("#chooseColor").on('click',chooseColor);  
			  	//$(".colorView").on('click', colorView);  //隐藏色板

			  	function changeType(){
					if (isChange == 0) {
				  		$(".typeView").animate({"top":"-54px"}, "400");
				  		isChange = 1;
					}else{
				 		$(".typeView").animate({"top":"0px"}, "400");
				  		isChange = 1;
					} 
			  	}	


			  $(".form-control").blur(function(event) {    //表单验证
			  	var idname = $(this).attr("id");  
			  	var nextElement = $(this).nextAll("i");
			  	switch(idname){
			  		case "cardTitle":                          //验证卡券是否合格
			  					if ($(this).val().length>9) {
			              if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			  						nextElement.addClass('icon-remove').attr({title: "字数不能超过9"});
			              checkOk = false;
			  					}else if ($(this).val().length == 0) {
			              if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			  						nextElement.addClass('icon-remove').attr({title: "字数不能超过0"});
			              checkOk = false;
			  					}else{
			  						if (nextElement.hasClass('icon-remove')) {
			  							nextElement.removeClass('icon-remove');
			  						};
			  						if (nextElement.hasClass('icon-ok')) {
			  							nextElement.removeClass('icon-ok');
			  						};
			  						nextElement.addClass('icon-ok').attr({title: ""});
			              checkOk = true;
			  					};
			  					break;
			  		case "cardNumber":                          //验证卡券发行数量
			  						if ($(this).val()>100000000) {
			              if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			  						nextElement.addClass('icon-remove').attr({title: "卡券数量过多"});
			              checkOk = false;
			  					}else if ($(this).val().length == 0) {
			                if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			  						nextElement.addClass('icon-remove').attr({title: "字数输入能为空"});
			              checkOk = false;
			  					}else if (isNaN($(this).val()) || $(this).val()<0) {
			              if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			  						nextElement.addClass('icon-remove').attr({title: "请输入正整数"});
			              checkOk = false;
			  					}else{
			  						if (nextElement.hasClass('icon-remove')) {
			  							nextElement.removeClass('icon-remove');
			  						};
			  						if (nextElement.hasClass('icon-ok')) {
			  							nextElement.removeClass('icon-ok');
			  						};
			  						nextElement.addClass('icon-ok').attr({title: ""});
			              checkOk = true;
			  					};
			  					break;
			 case "useView":                                  //验证卡券使用提醒
			 	            if ($(this).val().length>16) {
			              if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			              nextElement.addClass('icon-remove').attr({title: "字数不能超过16"});
			              checkOk = false;
			            }else if ($(this).val().length == 0) {
			              if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			              nextElement.addClass('icon-remove').attr({title: "输入不能为空"});
			              checkOk = false;
			            }else{
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			              if(nextElement.hasClass("notMust")){
			                nextElement.removeClass('notMust');
			              };
			              if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              nextElement.addClass('icon-ok').attr({title: ""});
			              checkOk = true;
			            };
			            break;  
			  case "serverTel":                     //验证卡券客服电话
			             var isPhone = /^([0-9]{3,4}-)?[0-9]{7,8}$/;
			             if (!isPhone.test($(this).val())) {
			              nextElement.empty();
			               if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			              nextElement.addClass('icon-remove').attr({title: "输入号码无效"});
			              checkOk = false;
			            }else if ($(this).val().length == 0) {
			              nextElement.empty();
			              if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			              nextElement.addClass('notMust').attr({title: ""}).text('*选填');
			              checkOk = false;
			            }else{
			              nextElement.empty();
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			              if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              if(nextElement.hasClass("notMust")){
			                nextElement.removeClass('notMust');
			              };
			              nextElement.addClass('icon-ok').attr({title: ""});
			              checkOk = true;
			            };
			            break;
			    case "favourView":                      //具体优惠信息
			             if ($(this).val().length>18) {
			              if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			              nextElement.addClass('icon-remove').attr({title: "字数不能超过18"});
			              checkOk = false;
			            }else if ($(this).val().length == 0) {
			              if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			              nextElement.addClass('icon-remove').attr({title: "输入不能为空"});
			              checkOk = false;
			            }else{
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			              if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              nextElement.addClass('icon-ok').attr({title: ""});
			              checkOk = true;
			            };
			            break;
			    case "numberPlace":                         //单人可领卡券数量验证
			             if (isNaN($(this).val())) {
			              nextElement.empty();
			              if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			              nextElement.addClass('icon-remove').attr({title: "请输入正整数"});
			              checkOk = true;
			             }else{
			             if ($(this).val()>50) {
			              nextElement.empty();
			              if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			              nextElement.addClass('icon-remove').attr({title: "输入数量不能超过50"});
			              checkOk = false;
			            }else if ($(this).val().length == 0) {
			              if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			              nextElement.addClass('notMust').attr({title: ""}).text('*选填');
			             checkOk = false;
			            }else{
			              nextElement.empty();
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			              if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              if(nextElement.hasClass("notMust")){
			                nextElement.removeClass('notMust');
			              };
			              nextElement.addClass('icon-ok').attr({title: ""});
			              checkOk  =true;
			            };
			          };
			            break;
			    case "groupDescription":
			    if ($(this).val()>1024) {
			             if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			              nextElement.addClass('icon-remove').attr({title: "输入字数不能超过1024"});
			              checkOk = false;
			            }else if ($(this).val().length == 0) {
			              if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			              nextElement.addClass('icon-remove').attr({title: "输入不能为空"});
			             checkOk = false;
			            }else{
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			              if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              nextElement.addClass('icon-ok').attr({title: ""});
			              checkOk = true;
			            };
			        
			            break;
			    case "groupDetail":               //团购券具体信息验证
			           if ($(this).val()>1024) {
			             if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			              nextElement.addClass('icon-remove').attr({title: "输入字数不能超过1024"});
			              checkOk = false;
			            }else if ($(this).val().length == 0) {
			              if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			              nextElement.addClass('icon-remove').attr({title: "输入不能为空"});
			             checkOk = false;
			            }else{
			              if (nextElement.hasClass('icon-remove')) {
			                nextElement.removeClass('icon-remove');
			              };
			              if (nextElement.hasClass('icon-ok')) {
			                nextElement.removeClass('icon-ok');
			              };
			              nextElement.addClass('icon-ok').attr({title: ""});
			              checkOk = true;
			            };
			        
			            break;
			    default:
			            break;
			  	};
			  	
			  });

			var isChange = 0;    // 表示采用的时间类型，0表示使用时间区间，1表示采用时间长短
			
 
			 


					


			</script>